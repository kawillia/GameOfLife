<!DOCTYPE html>
<html>
<head>
    <title>SignalR Game of Life</title>
</head>
<body>
    <script src="/Scripts/jquery-1.8.2.min.js" ></script>
    <script src="/Scripts/jquery.signalR-1.0.0.js"></script>
    <script src="/signalr/hubs"></script> 
    <script type="text/javascript">
        $(function () {
            var gameOfLife = $.connection.gameOfLifeHub;
            gameOfLife.client.updateLivingCells = function (livingCells) {
                renderLivingCells(livingCells);
            };

            $.connection.hub.start().done(function () {
                gameOfLife.server.getLivingCells().done(function (livingCells) {
                    renderLivingCells(livingCells);
                });
            });

            function renderLivingCells(livingCells) {
                $.each(livingCells, function (i) {
                    $("body").append("<span style=\"color: black;\">X: " + this.X + " Y: " + this.Y + "</span>");
                });
            }
        });
    </script>
</body>
</html>